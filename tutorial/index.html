
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://leto-ai.github.io/tutorial/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.3.2">
    
    
      
        <title>‚ùì Tutorial - LETO MVP</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.24c991ad.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome-to-letos-tutorial" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LETO MVP" class="md-header__button md-logo" aria-label="LETO MVP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LETO MVP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ‚ùì Tutorial
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/LETO-ai/leto-mvp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LETO MVP" class="md-nav__button md-logo" aria-label="LETO MVP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    LETO MVP
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/LETO-ai/leto-mvp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        üè† Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ‚ùì Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ‚ùì Tutorial
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#loading-the-first-data-set" class="md-nav__link">
    Loading the first data set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploring-the-data" class="md-nav__link">
    Exploring the data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loading-semi-structured-data" class="md-nav__link">
    Loading semi-structured data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploring-the-new-data" class="md-nav__link">
    Exploring the new data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-time-indexed-data" class="md-nav__link">
    Adding time-indexed data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loading-a-large-data-set" class="md-nav__link">
    Loading a large data set
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../guide/" class="md-nav__link">
        üìù User Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dev/" class="md-nav__link">
        üõ†Ô∏è Development Guide
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="welcome-to-letos-tutorial">Welcome to LETO's Tutorial<a class="headerlink" href="#welcome-to-letos-tutorial" title="Permanent link">&para;</a></h1>
<p>This tutorial will guide you through the usage of LETO in a specific example domain. The domain in question is about the province of Alicante, Spain, and mostly related to tourism information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Make sure to clear the database (button <code>üí£ Clear database</code>) before following this tutorial, so that you start from scratch.</p>
</div>
<h2 id="loading-the-first-data-set">Loading the first data set<a class="headerlink" href="#loading-the-first-data-set" title="Permanent link">&para;</a></h2>
<p>The first data set we will analyze is related with some touristic locations in Alicante.
To begin, download the CSV file <code>locations_alicante.csv</code> <a href="../data/locations_alicante.csv">here</a>. If you open the file, you'll see something like the following:</p>
<div class="highlight"><pre><span></span><code><span class="nx">location</span><span class="p">,</span><span class="nx">lat</span><span class="p">,</span><span class="nx">lon</span><span class="p">,</span><span class="nx">country</span><span class="p">,</span><span class="nx">province</span>
<span class="nx">Albir</span><span class="p">,</span><span class="mf">38.570982499565076</span><span class="p">,</span><span class="o">-</span><span class="mf">0.07026377183837483</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="nx">Alcampo</span><span class="p">,</span><span class="mf">38.36708247502724</span><span class="p">,</span><span class="o">-</span><span class="mf">0.4699022752090634</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="nx">Avenida</span> <span class="nx">Jovellanas</span><span class="p">,</span><span class="mf">38.34789006276749</span><span class="p">,</span><span class="o">-</span><span class="mf">0.4755058728788782</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="nx">Castillo</span> <span class="nx">de</span> <span class="nx">Alicante</span><span class="p">,</span><span class="mf">38.349140160469716</span><span class="p">,</span><span class="o">-</span><span class="mf">0.4780181728788511</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="nx">Castillo</span> <span class="nx">de</span> <span class="nx">Santa</span> <span class="nx">B√°rbara</span><span class="p">,</span><span class="mf">38.349140160469716</span><span class="p">,</span><span class="o">-</span><span class="mf">0.4780181728788511</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="nx">Ciudad</span> <span class="nx">de</span> <span class="nx">la</span> <span class="nx">Luz</span><span class="p">,</span><span class="mf">38.364444444444445</span><span class="p">,</span><span class="o">-</span><span class="mf">0.43833333333333335</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="nx">El</span> <span class="nx">Corte</span> <span class="nx">Ingl√©s</span><span class="p">,</span><span class="mf">38.347524302739636</span><span class="p">,</span><span class="o">-</span><span class="mf">0.48798528517226725</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="nx">Alicante</span>
<span class="p">...</span>
</code></pre></div>
<p>This file contains structured information about some locations, including latitude and longitude. We'll feed LETO with this information to begin.</p>
<p>On the right side panel, under the <code>üî• Load data</code> panel, select the loader named <code>From CSV files</code>.
Click the <code>Browse</code> button and select the file you just downloaded (<code>locations_alicante.csv</code>).
Then hit <code>üöÄ Run</code>.</p>
<p>You should see a small green message at the bottom that says "Succesfully loaded...". This means the data was correctly loaded. Check the following image for reference:</p>
<p><img alt="" src="../img/tutorial-1.png" /></p>
<h2 id="exploring-the-data">Exploring the data<a class="headerlink" href="#exploring-the-data" title="Permanent link">&para;</a></h2>
<p>Now that we have some data, let's run some queries. Start by typing <code>alicante</code> into the query textbox and see what happens. You should see something like the following image:</p>
<p><img alt="" src="../img/tutorial-2.png" /></p>
<p>This graph represents a small context around the entity <code>Alicante</code>, which is the most similar entity to our input query <code>alicante</code>. You can see there are some locations that are related with <code>Alicante</code> and <code>Spain</code>. You can zoom, move, and otherwise interact with the graph to better explore it. If you hover over any of the nodes you'll see some relevant metadata:</p>
<p><img alt="" src="../img/tutorial-3.png" /></p>
<p>Scrolling down you'll find additional visualizations about the subgraph that's being displayed. For example, you'll see a pie chart with the distribution of the locations that exist in the graph:</p>
<p><img alt="" src="../img/tutorial-4.png" /></p>
<h2 id="loading-semi-structured-data">Loading semi-structured data<a class="headerlink" href="#loading-semi-structured-data" title="Permanent link">&para;</a></h2>
<p>Next, we want to enrich this information with another dataset, this time a CSV file that contains comments extracted from social media that mention some of the locations present in the graph. To do that, download the CSV file named <code>comments_alicante.csv</code> <a href="../data/comments_alicante.csv">here</a>. The file looks something like this:</p>
<div class="highlight"><pre><span></span><code><span class="nx">comment</span>:<span class="kt">text</span><span class="p">,</span><span class="nx">rating</span><span class="p">,</span><span class="nx">date</span><span class="p">,</span><span class="nx">likes</span><span class="p">,</span><span class="nx">source</span><span class="p">,</span><span class="nx">query</span>:<span class="kt">text</span><span class="p">,</span><span class="nx">country</span>
<span class="s2">&quot;Alicante sorprende por su buen clima...&quot;</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">2010</span><span class="o">-</span><span class="mf">10</span><span class="o">-</span><span class="mf">31</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="nx">TripAdvisor</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span>
<span class="s2">&quot;Estuvimos en Alicante. Hotel LA CITY...&quot;</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">2010</span><span class="o">-</span><span class="mf">10</span><span class="o">-</span><span class="mo">03</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">TripAdvisor</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Argentina</span>
<span class="s2">&quot;El personal era realmente acogedor, ...&quot;</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">2010</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mo">04</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="nx">TripAdvisor</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">United</span> <span class="nx">Kingdom</span>
</code></pre></div>
<p>The first column contains a natural language text with comments, and the rest are structured information. You'll notice that some columns are explicitely marked with a semantic tag (<code>:text</code>) to tell LETO how to treat these columns.</p>
<p>By default, LETO will try to infer if a column corresponds to an attribute, an entity, or a relation. To do so, it relies on some heuristics about the structure of the data. For example, columns that are unique short labels are taken as possible entity ids, while numbers and dates are taken as attributes. In this case, we are telling LETO to explicitly interpret <code>comment</code> and <code>query</code> as <code>text</code> rather than, say, an entity label.</p>
<p>We will this CSV as before using the <code>üî• Load data</code> panel <strong>but</strong> we will explicitely define a name for the type of entity that will be created. In this case, we want each row in this CSV to be associated with an entity of type <code>Comment</code>, so we set the value of <code>main_entity</code> to <code>Comment</code>, just like the following image (also, make sure there's only one CSV selected and that <code>language</code> is set to <code>es</code>):</p>
<p><img alt="" src="../img/tutorial-5.png" /></p>
<p>Go ahead and hit <code>üöÄ Run</code>.</p>
<h2 id="exploring-the-new-data">Exploring the new data<a class="headerlink" href="#exploring-the-new-data" title="Permanent link">&para;</a></h2>
<p>Immediately after loading the new data you'll notice that the same query <code>alicante</code> now returns a slightly different graph (your colors may vary):</p>
<p><img alt="" src="../img/tutorial-6.png" /></p>
<p>You'll see new <code>Comment</code> nodes that represent each of the lines in the CSV, along with their associated metadata (such as <code>rating</code> and <code>date</code>). Furthermore, each <code>Comment</code> node is related with some of the existing locations via a <code>mention</code> relation. This is because LETO performs some smart natural language processing to detect entities in text fields (such as <code>comment</code>) and automatically creates the corresponding relations to the associated semantic entities.</p>
<p>To make it more interesting, type <code>alicante mentions</code> in the query box. This has the effect of showing the same graph, but now the locations are displayed in a map:</p>
<p><img alt="" src="../img/tutorial-7.png" /></p>
<p>This happens because the query now identifies the <code>mention</code> relationship explicitely, and thus the entities participating in that relationship are subject to visualization, and they happen to have location information associated with them.</p>
<p>To make it even more interesting let's try to compare the ratings of comments by location. Write the following query, <code>alicante ratings by location</code>, and you should see something like the following:</p>
<p><img alt="" src="../img/tutorial-8.png" /></p>
<p>The magic happening here is that LETO will scan the graph looking for an attribute called <code>rating</code> in an object related with something of type <code>Location</code>. Similarly, you can try <code>alicante likes by location</code> and you'll see a similar graph. You can even combine both queries in <code>alicante ratings and likes by location</code> and you'll see both graphs:</p>
<p><img alt="" src="../img/tutorial-9.png" /></p>
<h2 id="adding-time-indexed-data">Adding time-indexed data<a class="headerlink" href="#adding-time-indexed-data" title="Permanent link">&para;</a></h2>
<p>Next, we will add another CSV that contains time-indexed information. Download the file named <code>tourism_spain.csv</code> <a href="../data/tourism_spain.csv">here</a> and load it into LETO. Se the <code>main_entity</code> label to <code>TourismInfo</code>. The data looks something like this:</p>
<div class="highlight"><pre><span></span><code><span class="nx">country</span><span class="p">,</span><span class="nx">date</span><span class="p">,</span><span class="nx">tourists</span>
<span class="nx">Spain</span><span class="p">,</span><span class="mf">2020</span><span class="o">-</span><span class="mf">12</span><span class="p">,</span><span class="mf">648989</span>
<span class="nx">Spain</span><span class="p">,</span><span class="mf">2020</span><span class="o">-</span><span class="mf">11</span><span class="p">,</span><span class="mf">456814</span>
<span class="nx">Spain</span><span class="p">,</span><span class="mf">2020</span><span class="o">-</span><span class="mf">10</span><span class="p">,</span><span class="mf">1020773</span>
<span class="nx">Spain</span><span class="p">,</span><span class="mf">2020</span><span class="o">-</span><span class="mf">09</span><span class="p">,</span><span class="mf">1138868</span>
</code></pre></div>
<p>Now type <code>spain</code> in the query box to see what happens. The graph will look something like the following, to reflect the facts that we know about <code>Spain</code>, including the previous entities and a new set of <code>TourismInfo</code> nodes that represent the data in the new CSV:</p>
<p><img alt="" src="../img/tutorial-10.png" /></p>
<p>Now type <code>spain tourists by country</code> and you should see a timeseries graph like the following:</p>
<p><img alt="" src="../img/tutorial-11.png" /></p>
<p>The magic here happens because there's a <code>date</code> attribute on the <code>TourismInfo</code> node, and it's associated via a <code>country</code> relation with the entities you mention. By understanding how LETO interprets a query, we can tinker with the input to achieve more or less what we want.</p>
<h2 id="loading-a-large-data-set">Loading a large data set<a class="headerlink" href="#loading-a-large-data-set" title="Permanent link">&para;</a></h2>
<p>Let's now load the file <code>employment_alicante.csv</code> <a href="../data/employment_alicante.csv">located here</a>, which also contains time-indexed information about unemployment in a sample of municipalities inside Alicante. Make sure to set the <code>main_entity</code> to <code>UnemploymentInfo</code>. The file looks something like this:</p>
<div class="highlight"><pre><span></span><code><span class="nx">municipality</span>:<span class="kt">rel</span><span class="p">,</span><span class="nx">province</span>:<span class="kt">rel</span><span class="p">,</span><span class="nx">country</span>:<span class="kt">rel</span><span class="p">,</span><span class="nx">age</span>:<span class="kt">attr</span><span class="p">,</span><span class="nx">gender</span>:<span class="kt">rel</span><span class="p">,</span><span class="nx">unemployment</span><span class="p">,</span><span class="nx">date</span>
<span class="nx">Altea</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&lt;</span><span class="mf">25</span><span class="p">,</span><span class="nx">Masculino</span><span class="p">,</span><span class="mf">34.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Altea</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="mf">25</span><span class="o">-</span><span class="mf">44</span><span class="p">,</span><span class="nx">Masculino</span><span class="p">,</span><span class="mf">123.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Altea</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&gt;=</span><span class="mf">45</span><span class="p">,</span><span class="nx">Masculino</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Altea</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&lt;</span><span class="mf">25</span><span class="p">,</span><span class="nx">Femenino</span><span class="p">,</span><span class="mf">87.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Altea</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="mf">25</span><span class="o">-</span><span class="mf">44</span><span class="p">,</span><span class="nx">Femenino</span><span class="p">,</span><span class="mf">41.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Altea</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&gt;=</span><span class="mf">45</span><span class="p">,</span><span class="nx">Femenino</span><span class="p">,</span><span class="mf">257.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Benidorm</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&lt;</span><span class="mf">25</span><span class="p">,</span><span class="nx">Masculino</span><span class="p">,</span><span class="mf">211.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Benidorm</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="mf">25</span><span class="o">-</span><span class="mf">44</span><span class="p">,</span><span class="nx">Masculino</span><span class="p">,</span><span class="mf">763.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Benidorm</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&gt;=</span><span class="mf">45</span><span class="p">,</span><span class="nx">Masculino</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Benidorm</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&lt;</span><span class="mf">25</span><span class="p">,</span><span class="nx">Femenino</span><span class="p">,</span><span class="mf">479.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Benidorm</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="mf">25</span><span class="o">-</span><span class="mf">44</span><span class="p">,</span><span class="nx">Femenino</span><span class="p">,</span><span class="mf">172.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
<span class="nx">Benidorm</span><span class="p">,</span><span class="nx">Alicante</span><span class="p">,</span><span class="nx">Spain</span><span class="p">,</span><span class="o">&gt;=</span><span class="mf">45</span><span class="p">,</span><span class="nx">Femenino</span><span class="p">,</span><span class="mf">1033.0</span><span class="p">,</span><span class="mo">06</span><span class="o">/</span><span class="mo">01</span><span class="o">/</span><span class="mo">01</span>
</code></pre></div>
<p>As you can see, there are several <code>:rel</code> annotations which indicate LETO that we want those columns to become explicit relations with an entity rather than simple attributes. Go ahead and load the data if you haven't. This is a bigger file which can take a couple minutes to fully digest.</p>
<p>Once loaded you'll see a bunch of new facts (around ~11K) have appeared in the <code>‚öôÔ∏è Config</code> panel. If you just type <code>alicante</code> in the query box you'll get a graph like the following:</p>
<p><img alt="" src="../img/tutorial-12.png" /></p>
<p>Having this much data creates a couple of problems we'll have to deal with. First, if you just type <code>alicante</code> you'll never recover the comments, for example, because there's so much unemployment info that any subsample of the graph around <code>Alicante</code> is unlikely to have anything else.</p>
<p>To deal with this issue, you can type <code>alicante ~unemploymentinfo</code> to create a <em>negative filter</em> that will ignore all <code>UnemploymentInfo</code> nodes and give you back the old graph.</p>
<p>The second issue has to do with the size of the subgraph recovered. If you type <code>alicante unemployment by municipality ~location</code> you'll see that it selects some of the relevant data:</p>
<p><img alt="" src="../img/tutorial-13.png" /></p>
<p>However, since LETO returns a subset of the graph, not necessarily all the data available will be included in the graph. To fix this, you can enter a larger number for the <code>üîÆ Max results</code> field in the <code>‚öôÔ∏è Config</code> panel. Enter <code>10000</code> to see how the whole of the data looks like:</p>
<p><img alt="" src="../img/tutorial-14.png" /></p>
<p>The caveat is that with such a big graph, LETO will not show the graph representation.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: üè† Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              üè† Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../guide/" class="md-footer__link md-footer__link--next" aria-label="Next: üìù User Guide" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              üìù User Guide
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2021 - University of Alicante & University of Havana
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/LETO-ai" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.instant", "toc.integrate", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.e99e714c.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.bc35569b.min.js"></script>
      
    
  </body>
</html>